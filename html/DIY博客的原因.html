<!DOCTYPE html><html lang=en><meta charset=UTF-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=date content="2022/12/24 18:00"><title>DIY博客的原因</title><link rel=stylesheet href=/style/air.css><link rel=stylesheet href=/style/article.css><link rel=stylesheet href=/style/highlight.agate.css><link rel="shortcut icon"href=/favicon.ico type=image/x-icon><script async src="//www.googletagmanager.com/gtag/js?id=G-EHZ8V74593"></script><script async src=//bucket2023.oss-cn-hangzhou.aliyuncs.com/javascript/qrcode.min.js></script><script async src=//bucket2023.oss-cn-hangzhou.aliyuncs.com/javascript/FileSaver.min.js></script><script src=//bucket2023.oss-cn-hangzhou.aliyuncs.com/javascript/Valine.min.js></script><script src=//bucket2023.oss-cn-hangzhou.aliyuncs.com/javascript/highlight.min.js></script><script src=//bucket2023.oss-cn-hangzhou.aliyuncs.com/javascript/canvas-toBlob.js></script><script src=//bucket2023.oss-cn-hangzhou.aliyuncs.com/javascript/vconsole.min.js></script><script src=//bucket2023.oss-cn-hangzhou.aliyuncs.com/javascript/html-to-image.js></script><main id=content><h1 id=diy>DIY 博客</h1><p><img src="https://images.unsplash.com/photo-1499750310107-5fef28a66643?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1740&q=80"alt=https://unsplash.com/photos/cckf4TsHAuw><h2>域名准备</h2><h3 id=vercel>Vercel</h3><p><img src=https://bucket2023.oss-cn-hangzhou.aliyuncs.com/images/vercel.png alt=Vercel><p>首先我是 <a href=https://vercel.com/ rel="noopener noreferrer"target=_blank>Vercel</a> 的用户，而且平常有一些静态页面的托管的话也都是用 <code>Vercel</code>，早在 <code>ZEIT</code> 时期我就是 <code>now</code> 的用户了，一只用到现在，而且可以和 <a href=https://github.com/ rel="noopener noreferrer"target=_blank>github</a> 深度绑定，还有很好的后台管理页面，对于普通开发者来说非常友好。<h3 id=godaddy>GoDaddy</h3><p><img src=https://bucket2023.oss-cn-hangzhou.aliyuncs.com/images/godaddy.png alt=GoDaddy><p>但是为了有一个自己的独特的域名，我还是在<a href=https://www.godaddy.com/ rel="noopener noreferrer"target=_blank>GoDaddy</a>上花了￥ 15 买了一个比较适合自己的域名：<a href=https://ypfweb.club/ rel="noopener noreferrer"target=_blank>ypfweb.club</a><h2 id=-1>博客开发</h2><h3 id=markdown>Markdown</h3><p><img src=https://bucket2023.oss-cn-hangzhou.aliyuncs.com/images/markdown.png alt=Markdown><p>写博客，对于一个程序员来说，肯定还是<a href=https://www.markdownguide.org/ rel="noopener noreferrer"target=_blank>Markdown</a>最合适，因为在平常的写码过程中，一些文档的编写也都是采用这种富文本格式。<p>那么我要做的就是将 Markdown 格式的文章，转换为 HTML 页面，然后托管到 Vercel 即可。<h3 id=showdown>showdown</h3><p><img src=https://bucket2023.oss-cn-hangzhou.aliyuncs.com/images/showdown.png alt=showdown><p>Markdown 转化 HTML 我才用的是开源库：<a href=https://showdownjs.com/ rel="noopener noreferrer"target=_blank>showdown</a>，有同样功能的库还有<a href=https://markdown-it.github.io/ rel="noopener noreferrer"target=_blank>markdown-it</a>。<p>具体代码其实也很简单，详细细节可以移步<a href=https://github.com/GitHubJiKe/ypfweb.club.git rel="noopener noreferrer"target=_blank>仓库</a>细看。<h3 id=-2>样式</h3><blockquote><p>各种各样的博客系统最为博人眼球的大概就是五彩纷呈各不相同的博客主题样式了</blockquote><h4 id=papercss>Papercss</h4><p><img src=https://bucket2023.oss-cn-hangzhou.aliyuncs.com/images/papercss.png alt=Papercss><p>主页面我才用了有点手绘感的<a href=https://www.getpapercss.com/ rel="noopener noreferrer"target=_blank>Papercss</a>，效果还挺不错的，而且兼容移动端。<h4 id=aircss>air.css</h4><p><img src=https://bucket2023.oss-cn-hangzhou.aliyuncs.com/images/aircss.png alt=air.css><p>至于文章样式的话，我采用的是一款专门为 markdown 写的样式风格<a href=https://github.com/markdowncss/air rel="noopener noreferrer"target=_blank>air.css</a><h2 id=ejs>模板语言 EJS</h2><p><img src=https://bucket2023.oss-cn-hangzhou.aliyuncs.com/images/ejs.png alt=EJS><p>具体的在<code>markdown</code>转换过程中肯定离不了模板部分的拼接和包裹加工，这里我选择的是比较流行的<code>EJS</code>。<h2 id=-3>数据分析 和 评论集成</h2><h3 id=-4>数据分析</h3><p><img src=https://bucket2023.oss-cn-hangzhou.aliyuncs.com/images/google_anal.jpg alt=https://analytics.google.com/ ><p>博客上线以后你肯定会关心流量怎么样，那么我这里接入使用的是<a href=https://analytics.google.com/ rel="noopener noreferrer"target=_blank>Google Analytics</a>，代码接入很简单，数据分析很实用。<h3 id=-5>评论集成</h3><p><img src=https://bucket2023.oss-cn-hangzhou.aliyuncs.com/images/valine.jpg alt=valine><p>博客系统比较完整的就是还要有评论功能，当用户看了你的文章想要发表观点的时候，评论区是很重要的一个功能点。我这里使用的是<a href=https://valine.js.org/ rel="noopener noreferrer"target=_blank>Valine</a> 一款快速、简洁且高效的无后端评论系统。搭配<a href=https://www.leancloud.cn/ rel="noopener noreferrer"target=_blank>LeanCloud</a>做数据存储，就可以实现评论内容的持久化了。<p><img src=https://bucket2023.oss-cn-hangzhou.aliyuncs.com/images/leancloud.jpg alt=LeanCloud><p>当然<code>LeanCloud</code>是收费的，但是作为普通开发者来说，流量也比较低，免费版足够装叉了 😄。<h2 id=-6>自动化部署</h2><p><img src=https://bucket2023.oss-cn-hangzhou.aliyuncs.com/images/github.jpg alt=github><p>自动化部署离不开<code>github</code>，我在<code>github</code>新建一个<code>repo</code>，将本地代码 push 上去，在此之前，借助<code>husky</code>添加一个<code>pre-commit</code>的钩子，用于在每次提交代码之前执行一次<code>covert</code>，这样提交上去的代码就是经过 <code>covert</code> 的最新的 HTML 页面了。<p><img src=https://bucket2023.oss-cn-hangzhou.aliyuncs.com/images/husky.jpg alt=husky><h2 id=-7>总结</h2><p>至此就完成了一个简单的博客系统的搭建，后续只要在本地进行<code>markdown</code>的文章编写即可，然后提交代码，自动触发<code>Vercel</code>的部署，博客就可以正常访问了。</main><div class=backicon></div><div class=qrcodes><div><img class=zhifubao src=/assets/images/%E6%94%AF%E4%BB%98%E5%AE%9D.jpg alt=支付宝 width=200 height=200> <label style=font-size:small>支付宝</label></div><div><img class=wechat src=/assets/images/%E5%BE%AE%E4%BF%A1%E6%94%B6%E6%AC%BE.jpg alt=微信收款 width=200 height=200> <label style=font-size:small>微信</label></div></div><p style=text-align:center;font-size:smaller;color:#777;margin-top:4rem>“觉得不错，买杯奶茶给作者吧”<section id=extra><div class=qrcodeicon></div><div class=shareicon></div><div id=vcomments></div></section><script src=/js/article.js></script>